"use strict";(self.webpackChunkhotel_management_admin=self.webpackChunkhotel_management_admin||[]).push([[40],{1893:function(e,n,t){t.d(n,{Z:function(){return r}});var o=t(3430),s=t(2791);function r(e,n){var t=(0,s.useState)(null),r=(0,o.Z)(t,2),l=r[0],i=r[1],a=(0,s.useState)(!0),c=(0,o.Z)(a,2),d=c[0],u=c[1],h=(0,s.useState)(null),m=(0,o.Z)(h,2),f=m[0],p=m[1];return(0,s.useEffect)((function(){fetch(e).then((function(e){if(e.status>=400)throw new Error("Server responds with error!");return e.json()})).then((function(e){i(e),u(!1)}),(function(e){u(!1),p(e)}))}),[n]),{data:l,loading:d,error:f}}},8040:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var o=t(2791),s=t(5801),r=t(8489),l=t(3430),i=(t(7392),t(1893)),a=t(7356),c=t(9126),d=t(3216),u=t(356),h=t(184);function m(e){var n=(0,o.useState)(),t=(0,l.Z)(n,2),s=t[0],i=t[1];(0,o.useEffect)((function(){e.nameRef.current.focus()}),[]);return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(a.Z,{title:"Th\xeam l\u1ea7u",setOpen:e.setOpen,body:(0,h.jsx)("div",{className:"form",children:(0,h.jsxs)("label",{className:"input",children:["T\xean l\u1ea7u:",(0,h.jsx)("input",{type:"text",ref:e.nameRef,name:"floorName",onChange:function(e){return i(e.target.value)}})]})}),footer:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("button",{onClick:function(n){n.preventDefault(),fetch("http://localhost:8000/floors",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s})}),e.onLoad(),e.setAlert((function(){return{open:!0,status:"success"}})),e.setOpen((function(e){return(0,r.Z)((0,r.Z)({},e),{},{add:!1})}))},className:"btn btn-submit",children:"Th\u1ef1c hi\u1ec7n"})})})})}function f(e){var n=(0,o.useState)(e.name),t=(0,l.Z)(n,2),s=t[0],r=t[1];(0,o.useEffect)((function(){e.nameRef.current.focus()}),[]);return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(a.Z,{title:"S\u1eeda l\u1ea7u",setOpen:e.setOpen,body:(0,h.jsxs)("div",{className:"form",children:[(0,h.jsxs)("label",{className:"input",children:["Id l\u1ea7u:",(0,h.jsx)("input",{type:"text",value:e.id,readOnly:!0})]}),(0,h.jsxs)("label",{className:"input",children:["T\xean l\u1ea7u:",(0,h.jsx)("input",{type:"text",ref:e.nameRef,name:"name",value:s,onChange:function(e){return r(e.target.value)}})]})]}),footer:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("button",{onClick:function(n){n.preventDefault(),fetch("http://localhost:8000/floors/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s})}),e.onLoad(),e.setOpen(!1)},className:"btn btn-submit",children:"Th\u1ef1c hi\u1ec7n"})})})})}function p(e){var n,t=(0,o.useState)(!1),s=(0,l.Z)(t,2),a=s[0],p=s[1],x=(0,i.Z)("http://localhost:8000/floors",a),j=x.data,b=x.loading,v=x.error,g=(0,o.useState)({add:!1,edit:!1}),y=(0,l.Z)(g,2),Z=y[0],N=y[1],C=(0,o.useState)({open:!1,status:""}),S=(0,l.Z)(C,2),T=S[0],O=S[1],_=(0,o.useState)({id:"",name:""}),R=(0,l.Z)(_,2),L=R[0],P=R[1],k=(0,o.useRef)(),F=function(e){var n=null===j||void 0===j?void 0:j.find((function(n){return n.id===e?n:null}));P(n),N((function(e){return(0,r.Z)((0,r.Z)({},e),{},{edit:!0})}))},B=function(e){fetch("http://localhost:8000/floors/".concat(e),{method:"delete"}),E()},E=function(){p(!a)},D=function(){O((function(e){return(0,r.Z)((0,r.Z)({},e),{},{open:!1})}))};return v?(console.log(v),null):(0,h.jsxs)("div",{className:"list",children:[(0,h.jsx)(u.Z,{open:T.open,autoHideDuration:3e3,onClose:D,children:(0,h.jsx)(d.Z,{onClose:D,severity:T.status,sx:{width:"100%"},children:"success"===T.status?"Success!!!":"error"===T.status?"Error!!!":null})}),(0,h.jsxs)("div",{className:"list__header",children:[(0,h.jsx)("h3",{className:"title list__title",children:"Th\xf4ng tin l\u1ea7u"}),(0,h.jsx)("button",{className:"btn btn-add",onClick:function(){return N((function(e){return(0,r.Z)((0,r.Z)({},e),{},{add:!0})}))},children:"Th\xeam l\u1ea7u"}),Z.add&&(0,h.jsx)(m,{setOpen:N,setAlert:O,nameRef:k,onLoad:E}),Z.edit&&(0,h.jsx)(f,{setOpen:N,nameRef:k,onLoad:E,id:L.id,name:L.name})]}),(0,h.jsxs)("table",{children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"Id"}),(0,h.jsx)("th",{children:"Name"}),(0,h.jsx)("th",{children:"Edit"}),(0,h.jsx)("th",{children:"Delete"})]})}),(0,h.jsxs)("tbody",{children:[b&&(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:"Loading ... "}),(0,h.jsx)("td",{children:"Loading ... "}),(0,h.jsx)("td",{children:(0,h.jsx)(c.jox,{className:"icon icon__edit"})}),(0,h.jsx)("td",{children:(0,h.jsx)(c.yvY,{className:"icon icon__delete"})})]}),(n=j,null===n||void 0===n?void 0:n.map((function(e){return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:e.id}),(0,h.jsx)("td",{children:e.name}),(0,h.jsx)("td",{children:(0,h.jsx)(c.jox,{className:"icon icon__edit",onClick:function(){return F(e.id)}})}),(0,h.jsx)("td",{children:(0,h.jsx)(c.yvY,{className:"icon icon__delete",onClick:function(){return B(e.id)}})})]},e.id)})))]})]})]})}var x=(0,o.memo)(p);function j(e){var n=(0,o.useState)(),t=(0,l.Z)(n,2),s=t[0],r=t[1];(0,o.useEffect)((function(){e.nameRef.current.focus()}),[]);return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(a.Z,{title:"Th\xeam th\xeam lo\u1ea1i ph\xf2ng",setOpen:e.setOpen,body:(0,h.jsx)("div",{className:"form",children:(0,h.jsxs)("label",{className:"input",children:["T\xean lo\u1ea1i ph\xf2ng:",(0,h.jsx)("input",{type:"text",ref:e.nameRef,name:"roomTypeName",onChange:function(e){return r(e.target.value)}})]})}),footer:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("button",{onClick:function(n){n.preventDefault(),fetch("http://localhost:8000/room-types",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s})}),e.onLoad(),e.setOpen(!1)},className:"btn btn-submit",children:"Th\u1ef1c hi\u1ec7n"})})})})}function b(e){var n=(0,o.useState)(e.name),t=(0,l.Z)(n,2),s=t[0],r=t[1];(0,o.useEffect)((function(){e.nameRef.current.focus()}),[]);return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(a.Z,{title:"S\u1eeda l\u1ea7u",setOpen:e.setOpen,body:(0,h.jsxs)("div",{className:"form",children:[(0,h.jsxs)("label",{className:"input",children:["Id l\u1ea7u:",(0,h.jsx)("input",{type:"text",value:e.id,readOnly:!0})]}),(0,h.jsxs)("label",{className:"input",children:["T\xean l\u1ea7u:",(0,h.jsx)("input",{type:"text",ref:e.nameRef,name:"name",value:s,onChange:function(e){return r(e.target.value)}})]})]}),footer:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("button",{onClick:function(n){n.preventDefault(),fetch("http://localhost:8000/floors/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s})}),e.onLoad(),e.setOpen(!1)},className:"btn btn-submit",children:"Th\u1ef1c hi\u1ec7n"})})})})}function v(){var e=(0,o.useState)(!1),n=(0,l.Z)(e,2),t=n[0],s=n[1],a=(0,i.Z)("http://localhost:8000/room-types",t),d=a.data,u=a.loading,m=a.error,f=(0,o.useState)({add:!1,edit:!1}),p=(0,l.Z)(f,2),x=p[0],v=p[1],g=(0,o.useState)({id:"",name:""}),y=(0,l.Z)(g,2),Z=y[0],N=y[1],C=(0,o.useRef)();if(m)return console.log(m),null;var S,T=function(e){var n=null===d||void 0===d?void 0:d.find((function(n){return n.id===e?n:null}));N(n),v((function(e){return(0,r.Z)((0,r.Z)({},e),{},{edit:!0})}))},O=function(e){fetch("http://localhost:8000/room-types/".concat(e),{method:"delete"}),_()},_=function(){s(!t)};return(0,h.jsxs)("div",{className:"list",children:[(0,h.jsxs)("div",{className:"list__header",children:[(0,h.jsx)("h3",{className:"title list__title",children:"Ph\xe2n lo\u1ea1i ph\xf2ng"}),(0,h.jsx)("button",{className:"btn btn-add",onClick:function(){return v((function(e){return(0,r.Z)((0,r.Z)({},e),{},{add:!0})}))},children:"Th\xeam lo\u1ea1i ph\xf2ng"}),x.add&&(0,h.jsx)(j,{setOpen:v,nameRef:C,onLoad:_}),x.edit&&(0,h.jsx)(b,{setOpen:v,nameRef:C,onLoad:_,id:Z.id,name:Z.name})]}),(0,h.jsxs)("table",{children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"Id"}),(0,h.jsx)("th",{children:"Name"}),(0,h.jsx)("th",{children:"Edit"}),(0,h.jsx)("th",{children:"Delete"})]})}),(0,h.jsxs)("tbody",{children:[u&&(0,h.jsx)("tr",{children:(0,h.jsx)("td",{children:"Loading ... "})}),(S=d,null===S||void 0===S?void 0:S.map((function(e){return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:e.id}),(0,h.jsx)("td",{children:e.name}),(0,h.jsx)("td",{children:(0,h.jsx)(c.jox,{className:"icon icon__edit",onClick:function(){return T(e.id)}})}),(0,h.jsx)("td",{children:(0,h.jsx)(c.yvY,{className:"icon icon__delete",onClick:function(){return O(e.id)}})})]},e.id)})))]})]})]})}var g=(0,o.memo)(v),y=t(6222);function Z(e){var n,t,s=(0,o.useState)({floors:[],roomTypes:[]}),i=(0,l.Z)(s,2),c=i[0],d=i[1],u=(0,o.useState)({floor:"L\u1ea7u 1",type:"Nh\u1ecf",room:"",numberBed:1,numberPeople:2}),m=(0,l.Z)(u,2),f=m[0],p=m[1];(0,o.useEffect)((function(){Promise.all([fetch("http://localhost:8000/floors").then((function(e){return e.json()})),fetch("http://localhost:8000/room-types").then((function(e){return e.json()}))]).then((function(e){var n=(0,l.Z)(e,2),t=n[0],o=n[1];d((function(e){return(0,r.Z)((0,r.Z)({},e),{},{floors:t})})),d((function(e){return(0,r.Z)((0,r.Z)({},e),{},{roomTypes:o})}))})).catch((function(e){console.log(e)})),e.nameRef.current.focus()}),[]);var x=function(e){p((function(n){return(0,r.Z)((0,r.Z)({},n),{},(0,y.Z)({},e.target.name,e.target.value))}))};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(a.Z,{title:"Th\xeam ph\xf2ng",setOpen:e.setOpen,body:(0,h.jsxs)("div",{className:"form",children:[(0,h.jsxs)("label",{className:"input",children:["L\u1ea7u:",(0,h.jsx)("select",{ref:e.nameRef,name:"floor",value:f.floor,onChange:x,children:null===(n=c.floors)||void 0===n?void 0:n.map((function(e,n){return(0,h.jsx)("option",{value:e.name,children:e.name},n)}))})]}),(0,h.jsxs)("label",{className:"input",children:["Lo\u1ea1i ph\xf2ng:",(0,h.jsx)("select",{name:"type",value:f.type,onChange:x,children:null===(t=c.roomTypes)||void 0===t?void 0:t.map((function(e,n){return(0,h.jsx)("option",{value:e.name,children:e.name},n)}))})]}),(0,h.jsxs)("label",{className:"input",children:["T\xean ph\xf2ng:",(0,h.jsx)("input",{type:"text",name:"room",onChange:x})]}),(0,h.jsxs)("label",{className:"input",children:["S\u1ed1 gi\u01b0\u1eddng:",(0,h.jsx)("input",{type:"text",name:"numberBed",value:f.numberBed,onChange:x})]}),(0,h.jsxs)("label",{className:"input",children:["S\u1ed1 ng\u01b0\u1eddi:",(0,h.jsx)("input",{type:"text",name:"numberPeople",value:f.numberPeople,onChange:x})]})]}),footer:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("button",{onClick:function(n){n.preventDefault(),Promise.all([fetch("http://localhost:8000/rooms",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({room:f.room,floor:f.floor,type:f.type,numberBed:f.numberBed,numberPeople:f.numberPeople})}),fetch("http://localhost:8000/room-status",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({room:f.room,status:"empty"})})]),e.onLoad(),e.setOpen(!1)},className:"btn btn-submit",children:"Th\u1ef1c hi\u1ec7n"})})})})}function N(e){var n,t,s=(0,o.useState)({floors:[],roomTypes:[]}),i=(0,l.Z)(s,2),c=i[0],d=i[1],u=(0,o.useState)({floor:e.room.floor,type:e.room.type,room:e.room.room,numberBed:e.room.numberBed,numberPeople:e.room.numberPeople}),m=(0,l.Z)(u,2),f=m[0],p=m[1];(0,o.useEffect)((function(){Promise.all([fetch("http://localhost:8000/floors").then((function(e){return e.json()})),fetch("http://localhost:8000/room-types").then((function(e){return e.json()}))]).then((function(e){var n=(0,l.Z)(e,2),t=n[0],o=n[1];d((function(e){return(0,r.Z)((0,r.Z)({},e),{},{floors:t})})),d((function(e){return(0,r.Z)((0,r.Z)({},e),{},{roomTypes:o})}))})).catch((function(e){console.log(e)})),e.nameRef.current.focus()}),[]);var x=function(e){p((function(n){return(0,r.Z)((0,r.Z)({},n),{},(0,y.Z)({},e.target.name,e.target.value))}))};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(a.Z,{title:"S\u1eeda ph\xf2ng",setOpen:e.setOpen,body:(0,h.jsxs)("div",{className:"form",children:[(0,h.jsxs)("label",{className:"input",children:["Id ph\xf2ng:",(0,h.jsx)("input",{type:"text",value:e.room.id,readOnly:!0})]}),(0,h.jsxs)("label",{className:"input",children:["L\u1ea7u:",(0,h.jsx)("select",{ref:e.nameRef,name:"floor",value:f.floor,onChange:x,children:null===(n=c.floors)||void 0===n?void 0:n.map((function(e,n){return(0,h.jsx)("option",{value:e.name,children:e.name},n)}))})]}),(0,h.jsxs)("label",{className:"input",children:["Lo\u1ea1i ph\xf2ng:",(0,h.jsx)("select",{name:"type",value:f.type,onChange:x,children:null===(t=c.roomTypes)||void 0===t?void 0:t.map((function(e,n){return(0,h.jsx)("option",{value:e.name,children:e.name},n)}))})]}),(0,h.jsxs)("label",{className:"input",children:["T\xean ph\xf2ng:",(0,h.jsx)("input",{type:"text",name:"room",onChange:x})]}),(0,h.jsxs)("label",{className:"input",children:["S\u1ed1 gi\u01b0\u1eddng:",(0,h.jsx)("input",{type:"text",name:"numberBed",value:f.numberBed,onChange:x})]}),(0,h.jsxs)("label",{className:"input",children:["S\u1ed1 ng\u01b0\u1eddi:",(0,h.jsx)("input",{type:"text",name:"numberPeople",value:f.numberPeople,onChange:x})]})]}),footer:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("button",{onClick:function(n){n.preventDefault(),fetch("http://localhost:8000/floors/".concat(e.id),{method:"patch",headers:{"Content-Type":"application/json"},body:JSON.stringify({room:f.room,floor:f.floor,type:f.type,numberBed:f.numberBed,numberPeople:f.numberPeople})}),e.onLoad(),e.setOpen(!1)},className:"btn btn-submit",children:"Th\u1ef1c hi\u1ec7n"})})})})}function C(){var e=(0,o.useState)(!1),n=(0,l.Z)(e,2),t=n[0],s=n[1],a=(0,i.Z)("http://localhost:8000/rooms",t),d=a.data,u=a.loading,m=a.error,f=(0,o.useState)({add:!1,edit:!1}),p=(0,l.Z)(f,2),x=p[0],j=p[1],b=(0,o.useState)(),v=(0,l.Z)(b,2),g=v[0],y=v[1],C=(0,o.useRef)();if(m)return console.log(m),null;var S,T=function(e){var n=null===d||void 0===d?void 0:d.find((function(n){return n.id===e?n:null}));y(n),j((function(e){return(0,r.Z)((0,r.Z)({},e),{},{edit:!0})}))},O=function(e){fetch("http://localhost:8000/rooms/".concat(e),{method:"delete"}),_()},_=function(){s(!t)};return(0,h.jsxs)("div",{className:"list",children:[(0,h.jsxs)("div",{className:"list__header",children:[(0,h.jsx)("h3",{className:"title list__title",children:"Th\xf4ng tin ph\xf2ng"}),(0,h.jsx)("button",{className:"btn btn-add",onClick:function(){return j((function(e){return(0,r.Z)((0,r.Z)({},e),{},{add:!0})}))},children:"Th\xeam ph\xf2ng"}),x.add&&(0,h.jsx)(Z,{setOpen:j,nameRef:C,onLoad:_}),x.edit&&(0,h.jsx)(N,{setOpen:j,nameRef:C,onLoad:_,room:g})]}),(0,h.jsxs)("table",{children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"Id"}),(0,h.jsx)("th",{children:"Name"}),(0,h.jsx)("th",{children:"Floor"}),(0,h.jsx)("th",{children:"Room Type"}),(0,h.jsx)("th",{children:"Bed Number"}),(0,h.jsx)("th",{children:"People Number"}),(0,h.jsx)("th",{children:"Edit"}),(0,h.jsx)("th",{children:"Delete"})]})}),(0,h.jsxs)("tbody",{children:[u&&(0,h.jsx)("tr",{children:(0,h.jsx)("td",{children:"Loading ... "})}),(S=d,null===S||void 0===S?void 0:S.map((function(e){return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:e.id}),(0,h.jsx)("td",{children:e.room}),(0,h.jsx)("td",{children:e.floor}),(0,h.jsx)("td",{children:e.type}),(0,h.jsx)("td",{children:e.numberBed}),(0,h.jsx)("td",{children:e.numberPeople}),(0,h.jsx)("td",{children:(0,h.jsx)(c.jox,{className:"icon icon__edit",onClick:function(){return T(e.id)}})}),(0,h.jsx)("td",{children:(0,h.jsx)(c.yvY,{className:"icon icon__delete",onClick:function(){return O(e.id)}})})]},e.id)})))]})]})]})}var S=(0,o.memo)(C);var T=function(){return(0,h.jsxs)("div",{className:"page",children:[(0,h.jsx)(s.Z,{title:"Ph\xe2n lo\u1ea1i ph\xf2ng",body:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{}),(0,h.jsx)(g,{})]})}),(0,h.jsx)(s.Z,{title:"Danh s\xe1ch ph\xf2ng",body:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(S,{})})})]})}},7392:function(){}}]);
//# sourceMappingURL=40.b7e89d37.chunk.js.map